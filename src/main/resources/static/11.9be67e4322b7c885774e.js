(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{iXEp:function(l,n,a){"use strict";a.r(n);var u=a("CcnG"),r=function(){return function(){}}(),s=a("pMnS"),e=a("Zseb"),t=a("NuRj"),o=a("H++W"),i=a("uUzR"),c=a("Ip0R"),d=a("487/"),b=a("qfBg"),m=function(){function l(l,n,a,u){this.checkService=l,this.horasService=n,this.usuarioService=a,this.route=u,this.mesActual=new c.e("en-US").transform(new Date,"MMMM y"),this.mainChartElements=31,this.datasetEntradas=[{label:"Entrada",data:new Array(this.mainChartElements)}],this.coloresEntradas=[{backgroundColor:Object(t.hexToRgba)(Object(t.getStyle)("--info"),10),borderColor:Object(t.getStyle)("--success"),pointHoverBackgroundColor:"#fff"}],this.datasetSalidas=[{label:"Salidas",data:new Array(this.mainChartElements)}],this.coloresSalidas=[{backgroundColor:Object(t.hexToRgba)(Object(t.getStyle)("--danger"),10),borderColor:Object(t.getStyle)("--danger"),pointHoverBackgroundColor:"#fff"}],this.labelsDias=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],this.opcionesGraficas={tooltips:{enabled:!1,custom:o.CustomTooltips,intersect:!0,mode:"index",position:"nearest",callbacks:{labelColor:function(l,n){return{backgroundColor:n.data.datasets[l.datasetIndex].borderColor}}}},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{callback:function(l){return l}}}],yAxes:[{ticks:{callback:function(l){return l+" m"},beginAtZero:!1,maxTicksLimit:12,stepSize:5,min:-30,max:30}}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},legend:{display:!1}},this.mainChartLegend=!1,this.mainChartType="line"}return l.prototype.ngOnInit=function(){var n=this;this.route.queryParamMap.subscribe(function(a){console.log(a),Promise.resolve(1).then(function(l){console.log(l);var u=a.get("id");return null===u?n.horasService.obtenerHorasActuales().toPromise():n.horasService.obtenerHorasUsuario(u).toPromise()}).then(function(a){return console.log("Se han descargado las horas del mes"),console.log(a),n.entradasTemprano=l.parseMinutes(a.entradasTemprano),n.retrasos=l.parseMinutes(a.retrasos),n.salidasTemprano=l.parseMinutes(a.salidasTemprano),n.horasExtra=l.parseMinutes(a.extras),n.checkService.obtenerChecksDe(a._links.checks.href).toPromise()}).then(function(l){console.log("Se han descargado los checks del periodo"),console.log(l);for(var a=new Array(n.mainChartElements).fill(0),u=function(n){var u=l.filter(function(l){return"ENTRADA"===l.tipo&&n+1===new Date(l.creado).getDate()}).pop();u&&(a[n]=u.diferencia)},r=0;r<n.mainChartElements;r++)u(r);n.datasetEntradas[0].data=a;var s=new Array(n.mainChartElements).fill(0),e=function(n){var a=l.filter(function(l){return"SALIDA"===l.tipo&&n+1===new Date(l.creado).getDate()}).pop();a&&(s[n]=a.diferencia)};for(r=0;r<n.mainChartElements;r++)e(r);return n.datasetSalidas[0].data=s,console.log(n.datasetEntradas[0].data),console.log(n.datasetSalidas[0].data),1}).catch(function(l){console.info(l),n.entradasTemprano="00:00",n.retrasos="00:00",n.salidasTemprano="00:00",n.horasExtra="00:00",n.datasetEntradas[0].data=new Array(n.mainChartElements).fill(0),n.datasetSalidas[0].data=new Array(n.mainChartElements).fill(0)})})},l.parseMinutes=function(l){l<0&&(l=-l);var n=Math.trunc(l/60),a=Math.trunc(l%60);return String(n).padStart(2,"0")+":"+String(a).padStart(2,"0")},l}(),p=a("ZYCi"),h=u.pb({encapsulation:2,styles:[],data:{}});function g(l){return u.Nb(0,[(l()(),u.rb(0,0,null,null,54,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,26,"div",[["class","card"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.rb(4,0,null,null,4,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),u.rb(5,0,null,null,1,"h4",[["class","card-title mb-0"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Estad\xedsticas de entrada"])),(l()(),u.rb(7,0,null,null,1,"div",[["class","small text-muted"]],null,null,null,null,null)),(l()(),u.Lb(8,null,["",""])),(l()(),u.rb(9,0,null,null,2,"div",[["class","chart-wrapper"],["style","height:300px;margin-top:40px;"]],null,null,null,null,null)),(l()(),u.rb(10,0,null,null,1,"canvas",[["baseChart",""],["class","chart"]],null,null,null,null,null)),u.qb(11,999424,null,0,e.a,[u.k,e.c],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},null),(l()(),u.rb(12,0,null,null,15,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),u.rb(13,0,null,null,14,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),u.rb(14,0,null,null,6,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),u.rb(15,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Entradas temprano"])),(l()(),u.rb(17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Lb(18,null,["",""])),(l()(),u.rb(19,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),u.rb(20,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","40"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 40%"]],null,null,null,null,null)),(l()(),u.rb(21,0,null,null,6,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),u.rb(22,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Retrasos"])),(l()(),u.rb(24,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Lb(25,null,["",""])),(l()(),u.rb(26,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),u.rb(27,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","80"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 80%"]],null,null,null,null,null)),(l()(),u.rb(28,0,null,null,26,"div",[["class","card"]],null,null,null,null,null)),(l()(),u.rb(29,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),u.rb(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.rb(31,0,null,null,4,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),u.rb(32,0,null,null,1,"h4",[["class","card-title mb-0"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Estad\xedsticas de salida"])),(l()(),u.rb(34,0,null,null,1,"div",[["class","small text-muted"]],null,null,null,null,null)),(l()(),u.Lb(35,null,["",""])),(l()(),u.rb(36,0,null,null,2,"div",[["class","chart-wrapper"],["style","height:300px;margin-top:40px;"]],null,null,null,null,null)),(l()(),u.rb(37,0,null,null,1,"canvas",[["baseChart",""],["class","chart"]],null,null,null,null,null)),u.qb(38,999424,null,0,e.a,[u.k,e.c],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},null),(l()(),u.rb(39,0,null,null,15,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),u.rb(40,0,null,null,14,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),u.rb(41,0,null,null,6,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),u.rb(42,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Salidas temprano"])),(l()(),u.rb(44,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Lb(45,null,["",""])),(l()(),u.rb(46,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),u.rb(47,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","40"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 40%"]],null,null,null,null,null)),(l()(),u.rb(48,0,null,null,6,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),u.rb(49,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Horas extra"])),(l()(),u.rb(51,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Lb(52,null,["",""])),(l()(),u.rb(53,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),u.rb(54,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","80"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 80%"]],null,null,null,null,null))],function(l,n){var a=n.component;l(n,11,0,a.datasetEntradas,a.labelsDias,a.opcionesGraficas,a.mainChartType,a.coloresEntradas,a.mainChartLegend),l(n,38,0,a.datasetSalidas,a.labelsDias,a.opcionesGraficas,a.mainChartType,a.coloresSalidas,a.mainChartLegend)},function(l,n){var a=n.component;l(n,8,0,a.mesActual),l(n,18,0,a.entradasTemprano),l(n,25,0,a.retrasos),l(n,35,0,a.mesActual),l(n,45,0,a.salidasTemprano),l(n,52,0,a.horasExtra)})}function v(l){return u.Nb(0,[(l()(),u.rb(0,0,null,null,1,"ng-component",[],null,null,null,g,h)),u.qb(1,114688,null,0,m,[i.a,d.a,b.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var f=u.nb("ng-component",m,v,{},{},[]),x=a("iutN"),w=a("gIcY"),y={title:"Check"},C=function(){return function(){}}(),S=a("xtZt"),E=a("9EwZ");a.d(n,"EstadisticasModuleNgFactory",function(){return k});var k=u.ob(r,[],function(l){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[s.a,f,x.a]],[3,u.j],u.x]),u.Bb(4608,w.x,w.x,[]),u.Bb(1073742336,w.w,w.w,[]),u.Bb(1073742336,w.j,w.j,[]),u.Bb(1073742336,p.q,p.q,[[2,p.v],[2,p.m]]),u.Bb(1073742336,C,C,[]),u.Bb(1073742336,e.b,e.b,[]),u.Bb(1073742336,S.e,S.e,[]),u.Bb(1073742336,E.c,E.c,[]),u.Bb(1073742336,r,r,[]),u.Bb(1024,p.k,function(){return[[{path:"",component:m,data:y}]]},[])])})}}]);